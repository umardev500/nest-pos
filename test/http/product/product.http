@product_id = 1

### Get Products
# Retrieve a list of products. Optionally, filter by a search term.

GET {{API_URL}}/products

# Query Parameters:
# - search (optional): Filter products by name, unit, or variant. Case-insensitive.
#   Example: ?search=shirt

### Get Product by ID
# Fetch a product by its ID.

GET {{API_URL}}/products/{{product_id}}

# Path Parameters:
# - product_id: The ID of the product to fetch.
# Example: /products/1

### Create Product
# Create a new product with units and variants (with multiple variant values per variant)

POST {{API_URL}}/products
Content-Type: application/json

{
  "name": "Cheese Burger",
  "description": "Juicy grilled cheese burger",
  "image_url": "https://example.com/cheese-burger.jpg",
  "barcode": "CBG1-BARCODE",
  "base_unit_id": 1,
  "category_id": 1,
  "merchant_id": 1,
  "discount_id": 1,
  "product_units": [
    {
      "unit_id": 1,
      "stock": 100,
      "price": 8500.0,
      "conversion_factor": 1,
      "sku": "CBG1-PCS-0012"
    },
    {
      "unit_id": 2,
      "stock": 20,
      "price": 4005.0,
      "conversion_factor": 10,
      "sku": "CBG1-BOX-0012"
    }
  ],
  "product_variants": [
    {
      "unit_id": 1,
      "stock": 50,
      "price": 3300.5,
      "sku": "CBG1-PCB-BEEFX",
      "barcode": "12345678",
      "product_variant_values": [
        { "value": "Blue", "variant_type_id": 1 },
        { "value": "Green", "variant_type_id": 1 },
        { "value": "Red", "variant_type_id": 1 },
        { "value": "Color", "variant_type_id": 2 }
      ]
    }
  ]
}

### Create Product Without Variants
# Create a new product without variants.

POST {{API_URL}}/products
Content-Type: application/json

{
  "name": "Raw Burger",
  "description": "Delicious cheese burger",
  "image_url": "https://example.com/cheese-burger.jpg",
  "barcode": "P3-BARCODE",
  "base_unit_id": 1,
  "category_id": 2,
  "merchant_id": 1,
  "discount_id": 1,
  "product_units": [
    {
      "unit_id": 1,
      "stock": 100,
      "price": 5000.0,
      "conversion_factor": 1,
      "sku": "P3-SKU-1"
    },
    {
      "unit_id": 2,
      "stock": 20,
      "price": 4500.0,
      "conversion_factor": 10,
      "sku": "P3-SKU-2"
    }
  ],
  "product_variants": []
}

### Create Product Without Variants (Single Unit)
# Create a new product without variants and with a single unit.

POST {{API_URL}}/products
Content-Type: application/json

{
  "name": "Chicken Burger",
  "description": "Delicious cheese burger",
  "image_url": "https://example.com/cheese-burger.jpg",
  "barcode": "P3-BARCODE",
  "base_unit_id": 1,
  "category_id": 1,
  "merchant_id": 1,
  "discount_id": 1,
  "product_units": [
    {
      "unit_id": 1,
      "stock": 100,
      "price": 5000.0,
      "conversion_factor": 1,
      "sku": "P4-SKU-1"
    }
  ],
  "product_variants": []
}

### Update Product by ID
# Update an existing product and its related units and variants.

PUT {{API_URL}}/products/{{product_id}}
Content-Type: application/json

{
  "name": "Updated Cheese Burger",
  "description": "Updated description for cheese burger",
  "image_url": "https://example.com/updated-cheese-burger.jpg",
  "barcode": "XR-094895987",
  "base_unit_id": 1,
  "category_id": 1,
  "merchant_id": 1,
  "discount_id": 1,
  "product_units": [
    {
      "unit_id": 1,
      "stock": 200,
      "price": 5500.0,
      "conversion_factor": 1,
      "sku": "P1-SKU-1-UPDATED"
    }
  ],
  "product_variants": [
    {
      "unit_id": 1,
      "stock": 50,
      "price": 3300.5,
      "sku": "CBG12-PCB-BEEF",
      "barcode": "12345678",
      "product_variant_values": [
        { "variant_value_id": 1 },
        { "variant_value_id": 2 },
        { "variant_value_id": 3 } 
      ]
    },
    {
      "unit_id": 1,
      "stock": 50,
      "price": 5000.5,
      "sku": "CBG12-PCC-BEEF",
      "barcode": "12345678",
      "product_variant_values": [
        { "variant_value_id": 1 },
        { "variant_value_id": 2 },
        { "variant_value_id": 4 }
      ]
    }
  ]
}

### Delete Product by ID
# Delete a product and its related units/variants (via ON DELETE CASCADE).

DELETE {{API_URL}}/products/{{product_id}}

# Path Parameters:
# - product_id: The ID of the product to delete.
# Example: /products/1
